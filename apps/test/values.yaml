# Field to add ArgoCD applications to ArgoCD itself. This will automatically be applied by ArgoCD upon commits made to the main branch
argocd_applications:
  argocd_namespace: argocd
  default_sync_policy:
    syncPolicy:
      automated:
        selfHeal: true
        allowEmpty: false
      syncOptions:
        - CreateNamespace=true
        - PruneLast=true
  entries:
    - name: test-prl-harvester
      deployment_namespace: test-prl-harvester
      project: default
      destination: testsoftwaredev
      annotations:
        notifications.argoproj.io/subscribe.on-sync-succeeded.slack: softwaredev-services-firehose
      sources:
        - repourl: https://github.com/UCLALibrary/gitops_kubernetes.git
          path: teams/services/prl_harvester/overlays/test
          revision: main
    - name: test-hauth
      deployment_namespace: test-hauth
      project: default
      destination: prodeks
      annotations:
        notifications.argoproj.io/subscribe.on-sync-succeeded.slack: softwaredev-services-firehose
      sources:
        - repourl: https://github.com/UCLALibrary/gitops_kubernetes.git
          path: test/test-hauth
          revision: main
    - name: test-cantaloupe
      deployment_namespace: test-cantaloupe
      project: default
      destination: prodeks
      annotations:
        notifications.argoproj.io/subscribe.on-sync-succeeded.slack: softwaredev-services-firehose
      sources:
        - repourl: https://github.com/UCLALibrary/gitops_kubernetes.git
          path: test/test-cantaloupe
          revision: main
    - name: test-fester
      deployment_namespace: test-fester
      project: default
      destination: prodeks
      annotations:
        notifications.argoproj.io/subscribe.on-sync-succeeded.slack: softwaredev-services-firehose
      sources:
        - repourl: https://github.com/UCLALibrary/gitops_kubernetes.git
          path: test/test-fester
          revision: main
    - name: test-libcalproxy
      deployment_namespace: test-libcalproxy
      project: default
      destination: prodeks
      annotations:
        notifications.argoproj.io/subscribe.on-sync-succeeded.slack: softwaredev-services-firehose
      sources:
        - repourl: https://github.com/UCLALibrary/gitops_kubernetes.git
          path: test/test-libcalproxy
          revision: main
    - name: frontend-test-iiif
      deployment_namespace: frontend-test-iiif
      project: default
      destination: prodeks
      annotations:
        notifications.argoproj.io/subscribe.on-sync-succeeded.slack: softwaredev-services-firehose
      sources:
        - repourl: https://github.com/UCLALibrary/gitops_kubernetes.git
          path: test/frontend-test-iiif
          revision: main
    - name: cataloging-statisticstest
      deployment_namespace: cataloging-statisticstest
      project: default
      destination: testsoftwaredev
      sources:
        - repourl: https://github.com/UCLALibrary/cataloging-statistics
          path: charts
          revision: HEAD
          valueFiles:
            - test-catalogingstatistics-values.yaml
    - name: dlcs-staff-uitest
      deployment_namespace: dlcs-staff-uitest
      project: default
      destination: testsoftwaredev
      sources:
        - repourl: https://github.com/UCLALibrary/dlcs-staff-ui
          path: charts
          revision: HEAD
          valueFiles:
            - test-dlcsstaffui-values.yaml
    - name: lbstest
      deployment_namespace: lbstest
      project: default
      destination: testsoftwaredev
      sources:
        - repourl: https://github.com/UCLALibrary/LBS
          path: charts
          revision: HEAD
          valueFiles:
            - test-lbs-values.yaml
